# TOTP 验证码管理器 Pro 使用说明

## 🎯 新增功能特点

### ✨ 基础功能
- 现代化卡片式界面
- 配置文件管理（`accounts.json`）
- 实时验证码更新
- 一键复制功能
- 倒计时颜色提示

### 🆕 Pro 版新增功能
1. **🔍 强大的搜索功能**
   - 搜索账户名称
   - 搜索分组名称
   - 全局搜索或在分组内搜索
   - 实时搜索结果

2. **📂 分组管理**
   - 左侧分组列表，清晰展示所有分组
   - 每个分组显示账户数量
   - 点击分组快速过滤
   - 支持自定义分组

3. **🖥️ 自由缩放**
   - 窗口可自由调整大小
   - 支持最小化到 600x400
   - 左右分栏可拖动调整宽度
   - 响应式布局自动适应

4. **📊 智能统计**
   - 显示当前分组信息
   - 显示搜索关键词
   - 显示匹配账户总数

## 📦 安装依赖

```bash
pip install pyotp
```

## 🚀 使用方法

### 1. 基础使用

```bash
python totp_manager_pro.py
```

### 2. 配置账户（支持分组）

编辑 `accounts.json` 文件：

```json
[
  {
    "name": "Google账户",
    "secret": "JBSWY3DPEHPK3PXP",
    "group": "工作"
  },
  {
    "name": "GitHub",
    "secret": "HXDMVJECJJWSRB3HWIZR4IFUGFTMXBOZ",
    "group": "工作"
  },
  {
    "name": "支付宝",
    "secret": "YOUR_SECRET_HERE",
    "group": "金融"
  }
]
```

**字段说明：**
- `name`：账户名称（必填）
- `secret`：TOTP密钥（可为空）
- `group`：分组名称（可选，默认"未分组"）

### 3. 使用分组功能

**方式一：使用左侧分组列表**
- 点击左侧任意分组，自动过滤显示该分组的账户
- "全部"分组显示所有账户

**方式二：使用右上角下拉框**
- 点击"📂 分组"下拉框
- 选择要查看的分组

### 4. 使用搜索功能

**全局搜索：**
1. 确保分组选择为"全部"
2. 在搜索框输入关键词
3. 会搜索所有账户的名称和分组

**分组内搜索：**
1. 先选择一个具体分组
2. 在搜索框输入关键词
3. 只在当前分组内搜索

**搜索示例：**
- 搜索"银行" → 找出所有名称包含"银行"的账户
- 搜索"工作" → 找出所有"工作"分组的账户
- 在"金融"分组内搜索"支付" → 只在金融类账户中搜索

### 5. 调整窗口大小

- **拖动窗口边缘**：调整整体窗口大小
- **拖动中间分隔线**：调整左右分栏比例
- **最小尺寸**：600x400 像素
- **推荐尺寸**：800x600 或更大

## 🎨 界面布局说明

```
┌─────────────────────────────────────┐
│   🔐 TOTP 验证码管理器 Pro         │  ← 标题栏
├─────────────────────────────────────┤
│ 🔄刷新  📝编辑配置     📁配置文件  │  ← 工具栏
├─────────────────────────────────────┤
│ 🔍 [搜索框]  ✕     📂分组: [▼]   │  ← 搜索栏
├──────────┬──────────────────────────┤
│ 分组列表 │  分组: 工作 | 共 5 个   │  ← 统计栏
│          │                          │
│ 全部(18) │  ┌─────────────────────┐│
│ 工作(4)  │  │ Google账户          ││  ← 账户卡片
│ 社交(3)  │  │ 📂 工作              ││
│ 金融(4)  │  │ [123456]  15s  ✓复制││
│ ...      │  └─────────────────────┘│
│          │  ┌─────────────────────┐│
│ ↕可拖动  │  │ GitHub              ││
│          │  │ 📂 工作              ││
│          │  │ [789012]  12s       ││
│          │  └─────────────────────┘│
├──────────┴──────────────────────────┤
│  ⬅上一页   1/2 页   下一页➡       │  ← 分页栏
└─────────────────────────────────────┘
```

## 💡 使用技巧

### 快速查找账户
1. **按分组查找**：点击左侧分组 → 快速定位到该类账户
2. **关键词搜索**：输入部分名称 → 立即显示匹配结果
3. **组合使用**：先选分组，再搜索 → 精确定位

### 管理大量账户
1. **合理分组**：按用途分类（工作/社交/金融等）
2. **命名规范**：使用清晰的账户名称
3. **分页浏览**：每页10个，便于管理

### 界面自定义
1. **调整分组栏宽度**：拖动中间分隔线
2. **隐藏分组栏**：将分隔线拖到最左侧
3. **扩大查看区域**：将窗口最大化

## 🔧 高级配置

### 修改每页显示数量

编辑 `totp_manager_pro.py`：
```python
self.items_per_page = 10  # 改为你想要的数字（5-20推荐）
```

### 自定义分组

在 `accounts.json` 中自由定义 `group` 字段：
```json
{
  "name": "示例账户",
  "secret": "YOUR_SECRET",
  "group": "我的自定义分组"
}
```

### 批量导入账户

直接编辑 `accounts.json` 文件，复制粘贴多个账户配置即可。

## 📊 功能对比表

| 功能 | 基础版 | Pro版 |
|------|--------|-------|
| 验证码生成 | ✅ | ✅ |
| 一键复制 | ✅ | ✅ |
| 倒计时提示 | ✅ | ✅ |
| 分页显示 | ✅ | ✅ |
| 配置文件管理 | ✅ | ✅ |
| **搜索功能** | ❌ | ✅ |
| **分组管理** | ❌ | ✅ |
| **可调整大小** | ❌ | ✅ |
| **分栏布局** | ❌ | ✅ |
| **智能统计** | ❌ | ✅ |

## 🎬 快速演示

### 场景1：查找工作相关的GitHub账户
```
1. 点击左侧"工作"分组
2. 在搜索框输入"git"
3. 立即显示GitHub账户及其验证码
```

### 场景2：查看所有金融类账户
```
1. 点击左侧"金融"分组
2. 自动显示支付宝、银行等账户
3. 滚动浏览所有金融账户
```

### 场景3：快速复制某个验证码
```
1. 搜索账户名称
2. 点击验证码数字
3. 看到"✓ 已复制"提示
4. 直接粘贴使用
```

## 🛠️ 打包发布

打包为独立可执行文件：

```bash
pip install pyinstaller
pyinstaller --onefile --windowed --name="TOTP管理器Pro" totp_manager_pro.py
```

发布时只需提供：
- 可执行文件（`.exe` 或对应平台文件）
- `accounts.json` 配置文件（可选，首次运行自动创建）

## ❓ 常见问题

### Q: 搜索不到账户？
A: 检查是否在特定分组内搜索，可以切换到"全部"分组再搜索。

### Q: 分组显示不正确？
A: 点击"刷新"按钮重新加载配置文件。

### Q: 窗口太小看不清？
A: 拖动窗口边缘放大，或将窗口最大化。

### Q: 左侧分组列表太窄？
A: 拖动中间的分隔线向右拖动，增加分组栏宽度。

### Q: 如何取消搜索？
A: 点击搜索框右侧的"✕"按钮，或删除搜索框内容。

## 🔐 安全建议

1. **保护配置文件**：`accounts.json` 包含敏感信息，请勿分享
2. **定期备份**：建议定期备份配置文件
3. **加密存储**：重要账户建议加密保存（可自行添加加密功能）
4. **访问控制**：在共享电脑上使用时注意隐私

## 📝 更新日志

### v2.5 Pro (当前版本)
- ✨ 新增强大的搜索功能
- ✨ 新增分组管理功能
- ✨ 支持窗口自由缩放
- ✨ 新增左右分栏布局
- ✨ 新增智能统计显示
- 🎨 优化界面布局和交互

### v2.0
- ✨ 全新现代化界面
- 📁 支持配置文件管理
- 🎨 增加倒计时颜色提示
- 🔄 添加配置热重载

---

**享受更强大的 TOTP 管理体验！** 🎉
